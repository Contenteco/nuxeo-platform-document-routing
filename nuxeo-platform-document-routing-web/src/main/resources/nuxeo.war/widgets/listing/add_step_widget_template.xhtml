<f:subview id="#{widget.id}_add"
  xmlns:f="http://java.sun.com/jsf/core"
  xmlns:a4j="https://ajax4jsf.dev.java.net/ajax"
  xmlns:nxu="http://nuxeo.org/nxweb/util"
  xmlns:h="http://java.sun.com/jsf/html"
  xmlns:c="http://java.sun.com/jstl/core">

  <c:if test="#{routingActions.isEmptyFork(field_0)}">
   <nxu:set var="actions" value="#{getAddStepInForkActions}" cache="true">
      <c:if test="#{!empty actions}">
        <div class="action_bar">
          <nxu:dataList layout="unorderedList" var="action" value="#{actions}" id ="addStepInForkActionList" rowIndexVar="rowIndex" rowCountVar="rowCount">
            <a4j:commandLink  id="step_#{rowCount%1}" onclick="document.getElementById('selectRouteElementsTypeForCreationForm:hiddenSourceDocId').value = '#{field_1}';#{action.getLink()}"  value="#{messages[action.label]}"
              reRender="selectRouteElementsTypeForCreationRegion" >
              <f:param name="stepId" value="#{field_1}" />
            </a4j:commandLink>
          </nxu:dataList>
        </div>
      </c:if>
    </nxu:set>
  </c:if>
  <c:if test="#{routingActions.isEditableRouteElement(field_0)}">
   <nxu:set var="actions" value="#{getAddStepActions}" cache="true">
      <c:if test="#{!empty actions}">
        <div class="action_bar">
          <nxu:dataList layout="unorderedList" var="action" value="#{actions}" id ="addStepInForActionList" rowIndexVar="rowIndex">
            <a4j:commandLink  id="step_#{rowCount%2}" onclick="document.getElementById('selectRouteElementsTypeForCreationForm:hiddenSourceDocId').value = '#{field_1}';#{action.getLink()}"  value="#{messages[action.label]}"
               reRender="selectRouteElementsTypeForCreationRegion">
               <f:param name="stepId" value="#{field_1}" />
            </a4j:commandLink>
          </nxu:dataList>
        </div>
      </c:if>
    </nxu:set>
  </c:if>    

</f:subview>